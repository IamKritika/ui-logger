"use strict";angular.module("ui.logger",[]),angular.module("ui.logger").config(["loggerProvider",function(a){a.setLevel("debug"),a.setInterceptor(function(a){console.log(a)}),a.disableConsoleLogging(!0)}]),angular.module("ui.logger").run(["logger",function(a){var b=a.getInstance(),c=a.getInstance("run");b.info(b===c);try{throw new TypeError("error ...!!!")}catch(d){b.debug(d)}}]),angular.module("ui.logger").config(["$provide",function(a){a.decorator("$log",["$delegate","logger","loggerLevels","logUtils",function(a,b,c,d){var e={};b.$setLog(a),d.$defaultLogger(a);var f=b.getInstance();return c.forEach(function(a){e[a]=function(){d.isEnabled(f,a)&&f[a].apply(f,arguments)}}),e}])}]),function(){function a(){function a(){return window.StackTrace.$options=b.options,window.StackTrace}var b=this;this.options={offline:!0},this.$get=a}function b(a){angular.extend(this.options,a)}a.prototype.setOptions=b,angular.module("ui.logger").provider("StackTrace",[a])}(),angular.module("ui.logger").service("logUtils",["StackTrace","$window","loggerLevels","$injector","sourceMapUtil",function(a,b,c,d,e){function f(a){j.warn("Error server-side logging failed"),j.log(a.message)}function g(c,g){var h,i=g.toString(),j=moment().format("LLL");return g instanceof Error?(h=d.get("$q"),a.fromError(g,a.$options).then(function(a){for(var d=[],f=0;f<a.length;f++)d.push(e.getOriginalLocation(a[f]));return h.all(d).then(function(a){var d=a.map(function(a){return a.toString()});return{name:c.name,time:j,url:b.location.href,message:i,stackframes:d}})})["catch"](f)):(h=d.get("$q"),h.resolve({name:c.name,time:j,url:b.location.href,message:i}))}function h(a,b){if(a.level){var d=c.indexOf(a.level),e=c.indexOf(b);if(-1!==d&&e>=d)return!0}return!1}function i(a){return a&&(j=a),j}var j;return{getLogData:g,$defaultLogger:i,isEnabled:h}}]),angular.module("ui.logger").constant("loggerLevels",["debug","info","warn","log","error"]),function(){function a(a){return this.level=a,this}function b(a){angular.isFunction(a)&&(this.callback=a)}function c(a){this._disableConsoleLogging=!!a}function d(a){this._defaultName=a}function e(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=new RegExp("\\{"+(b-1)+"\\}","gm");a=a.replace(c,arguments[b])}return a}function f(b){function c(c){function g(c){if(!c){if(d)return d;c=f._defaultName}for(var e={name:c,level:f.level,setLevel:a},g=0;g<b.length;g++)i(e,b[g]);return c===f._defaultName&&(d=e),e}function h(a){this.$log=a}function i(a,b){a[b]=function(){if(c.isEnabled(this,b)){var a=Array.prototype.slice.call(arguments);a.unshift(this),c.getLogData.apply(null,a).then(function(a){f._disableConsoleLogging||k.$log[b](e(j,a.time,a.name,a.message+"\n"+a.stackframes)),f.callback.call(null,a)})}}}var j="{0}::[{1}]> {2}",k={$setLog:h,getInstance:g};return k}this.level=b[0],this.callback=angular.noop,this._disableConsoleLogging=!1,this._defaultName="default";var d,f=this;this.$get=["logUtils",c]}f.prototype.setLevel=a,f.prototype.setInterceptor=b,f.prototype.disableConsoleLogging=c,f.prototype.setDefaultName=d,angular.module("ui.logger").provider("logger",["loggerLevels",f])}(),angular.module("ui.logger").constant("sourceMap",window.sourceMap),function(){function a(a){var b=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(a);return b&&b[1]?b[1]:void 0}function b(a){angular.extend(this.options,a)}function c(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)}function d(a,b){for(var c,d,e,f=/function\s+([^(]*?)\s*\(([^)]*)\)/,g=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,h=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,i=a.split("\n"),j="",k=Math.min(b,20),l=0;k>l;++l)if(c=i[b-l-1],c&&(e=c.indexOf("//"),e>=0&&(c=c.substr(0,e))),c){if(j=c+j,d=g.exec(j),d&&d[1])return d[1];if(d=f.exec(j),d&&d[1])return d[1];if(d=h.exec(j),d&&d[1])return d[1]}}function e(b){function e(e){function g(){function g(b){var c=e.get("$q"),d=c.defer();return $.ajax(b).then(function(b){d.resolve(a(b))}).fail(function(a){d.reject(a)}),d.promise}function i(a){var i=e.get("$q"),j=a.fileName,k=i.defer();if(!f.options.offline)return void k.resolve(a);if(h[j])if(h[j].exist){var l=h[j]._map.originalPositionFor(a);k.resolve(l)}else k.resolve(a);else h[j]={exist:!1,_map:{},_file:""},g(j).then(function(e){e&&!c(e)&&(e=j.substring(0,j.lastIndexOf("/")+1)+e),$.getJSON(e,function(c){h[j].exist=!0,h[j]._map=new b.SourceMapConsumer(c);var e=h[j]._map.originalPositionFor({line:a.lineNumber,column:a.columnNumber});if(h[j]._file)e.name=d(h[j]._file,e.line,e.column),l=new window.StackFrame(e.name,a.args,e.source,e.line,e.column),k.resolve(l);else{var f=j.substring(0,j.lastIndexOf("/")+1)+e.source;$.ajax(f).then(function(b){h[j]._file=b,e.name=d(h[j]._file,e.line,e.column),l=new window.StackFrame(e.name,a.args,e.source,e.line,e.column),k.resolve(l)}).fail(function(){h[j]._file=null,k.resolve(a)})}}).fail(function(){h[j].exist=!1,h[j]._map=null,k.resolve(a)})},function(){h[j].exist=!1,h[j]._map=null,k.resolve(a)});return k.promise}return{getOriginalLocation:i}}var h={};return new g}this.options={offline:!0};var f=this;this.$get=["$injector",e]}e.prototype.configure=b,angular.module("ui.logger").provider("sourceMapUtil",["sourceMap",e])}();
//# sourceMappingURL=ui.logger.min.js.map